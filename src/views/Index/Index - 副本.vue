<template>
	<div id="index">
		<!-- 头开始 -->
		<Header></Header>
		<!-- 头结束 -->
		<!-- Index内容开始 -->
		<div class="index-content">
			<!-- 轮播图+ 新闻区域 start-->
			<div class="layout-s-news-wrapper special-themes">
				<div class="layout-s-news r-4-6 clearfix ">
					<!-- 用于放轮播图 -->
					<div class="c1-wrapper">
						<div class="c1">
							<div class="mx-sliding mx-m">
								<!-- 轮播图架子 -->
								<div class="swiper-container">
									<div class="swiper-wrapper">
										<div class="swiper-slide">
											<a href="" class="sliding-img-box">
												<img src="http://122.51.102.105:8081/file/20200623/1592769836370_1.jpg" alt="">
												<!-- 跟随文本 -->
												<div class="mx-sliding-text ellipsis-s">
													<a href="">区创城委督查评价指挥部第七督查组组长冯波带队到北臧村镇督导检查创城工作</a>
												</div>

											</a>

										</div>
										<div class="swiper-slide">
											<a href="" class="sliding-img-box">
												<img src="../../assets/img/swiper2.jpg" alt="">
												<!-- 跟随文本 -->
												<div class="mx-sliding-text ellipsis-s">
													<a href="">区政协副主席荣俊艳带队到北臧村镇调研</a>
												</div>

											</a>

										</div>
										<div class="swiper-slide">
											<a href="" class="sliding-img-box">
												<img src="../../assets/img/swiper3.jpg" alt="">
												<!-- 跟随文本 -->
												<div class="mx-sliding-text ellipsis-s">
													<a href="">区政协秘书长张新跃带队到北臧村镇调研</a>
												</div>

											</a>

										</div>
									</div>
									<!-- 如果需要分页器 -->
									<div class="swiper-pagination"></div>

									<!-- 如果需要导航按钮 -->
									<!-- <div class="swiper-button-prev"></div>
														<div class="swiper-button-next"></div> -->

									<!-- 如果需要滚动条 -->
									<!-- <div class="swiper-scrollbar"></div> -->
								</div>
							</div>
						</div>
					</div>
					<!-- 用于放新闻列表 -->
					<div class="c2-wrapper">
						<div class="c2">
							<div class="mx-sheet-wrapper">
								<div class="mx-sheet mx-m">
									<ul class="clearfix">
										<li class="mx-sheet-first clearfix">
											<a href="">
												北京大学文化产业研究院一行到北臧村镇就产业发展进行调研
											</a>
											<em>06-11</em>
										</li>
										<li class="clearfix">
											<a href="">
												北京大学文化产业研究院一行到北臧村镇就产业发展进行调研
											</a>
											<em>06-11</em>
										</li>
										<li class="clearfix">
											<a href="">
												北京大学文化产业研究院一行到北臧村镇就产业发展进行调研
											</a>
											<em>06-11</em>
										</li>
										<li class="clearfix">
											<a href="">
												北京大学文化产业研究院一行到北臧村镇就产业发展进行调研
											</a>
											<em>06-11</em>
										</li>
										<li class="clearfix">
											<a href="">
												北京大学文化产业研究院一行到北臧村镇就产业发展进行调研
											</a>
											<em>06-11</em>
										</li>
										<li class="clearfix">
											<a href="">
												北京大学文化产业研究院一行到北臧村镇就产业发展进行调研
											</a>
											<em>06-11</em>
										</li>
										<li class="clearfix">
											<a href="">
												北京大学文化产业研究院一行到北臧村镇就产业发展进行调研
											</a>
											<em>06-11</em>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- 轮播图+ 新闻区域 end-->
			<!-- 第二个输出块 start 一堆category -->
			<div class="layout-1-wrapper">
				<!-- 居中块 -->
				<div class="layout-1">

					<div class="c1-wrapper special-themes">
						<!-- c1内容块 -->
						<div class="c1">
							<!-- 列表区域 注意列表项有大小之分 mx-m表示中等 -->
							
						</div>
					</div>
				</div>
			</div>
			<!-- 第二个输出块 end 一堆category -->
			<!--  第三个输出块 start-->
			<div class="layout-123-wrapper">
				<!-- 三等分  layout-123 居中块-->
				<div class="layout-123 r-3-3-3 clearfix">
					<!-- c1 块 start -->
					<div class="c1-wrapper">
						<div class="c1">
							<div class="mx-sheet-wrapper">
								<div class="mx-sheet mx-m">
									<ul class="clearfix">
										<!-- 第一个显示图片 -->
										<li class="mx-sheet-first-title clearfix">
											<a href="">
												<img src="../../assets/img/b1.jpg" alt="">
												伟大出自平凡，英雄来自人民！习近平向全国各族劳动群众致以节日的问候
											</a>
											<em>05-01</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<!-- c1块 end -->
					<!-- c2 块 start -->
					<div class="c2-wrapper">
						<div class="c2">
							<div class="mx-sheet-wrapper">
								<div class="mx-sheet mx-m">
									<ul class="clearfix">
										<!-- 第一个显示图片 -->
										<li class="mx-sheet-first-title clearfix">
											<a href="">
												<img src="../../assets/img/b1.jpg" alt="">
												伟大出自平凡，英雄来自人民！习近平向全国各族劳动群众致以节日的问候
											</a>
											<em>05-01</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<!-- c2块 end -->
					<!-- c3 块 start -->
					<div class="c3-wrapper">
						<div class="c3">
							<div class="mx-sheet-wrapper">
								<div class="mx-sheet mx-m">
									<ul class="clearfix">
										<!-- 第一个显示图片 -->
										<li class="mx-sheet-first-title clearfix">
											<a href="">
												<img src="../../assets/img/b1.jpg" alt="">
												伟大出自平凡，英雄来自人民！习近平向全国各族劳动群众致以节日的问候
											</a>
											<em>05-01</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
										<!-- 其他一个 -->
										<li class="clearfix">
											<a href="">
												打赢疫情防控和脱贫攻坚两场硬仗
											</a>
											<em>02-28</em>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
					<!-- c3块 end -->
				</div>
			</div>
			<!--  第三个输出块 end-->
			<!--  第四个输出块 start -->
			<div class="layout-ls-h-wrapper">
				<!-- 居中块 -->
				<div class="layout-ls-h clearfix">
					<!-- 主要内容块c1 -->
					<div class="c1-wrapper">
						<!-- 主要内容块c1-->
						<div class="c1">
							<!-- 引入新闻组件 这个组件需要传参 -->
							<listingNewsLatest></listingNewsLatest>
						</div>
					</div>
					<!-- 主要内容块c2 -->
					<div class="c2-wrapper">
						<div class="c2">
							<!-- 右侧图片区域 ，后期可以隐藏 -->
							
							<!-- 右侧热点区域 缩略图形式, 后期可以复用-->
							<hotTitlePicNews></hotTitlePicNews>
						</div>
					</div>
				</div>
			</div>
			<!-- 第四个输出块 end -->
		</div>
		<!-- index内容结束-->
		<!-- 1111
		<i class="iconfont icon-jiantouyou"></i>
		<button @click="test">111</button>
		<div class="test" ></div> -->
		<!-- 尾部开始 -->
		<Footer></Footer>
		<!-- 尾部结束 -->
	</div>
</template>
<style scoped="scoped">
	.layout-1-wrapper {
		width: 100%;
		background-color: #900;
	}

	.layout-1-wrapper .layout-1 .c1-wrapper .c1 {
		margin: 0 !important;
	}

	.layout-1-wrapper .mx-column-list.mx-m {
		margin: 0;
	}

	.layout-1-wrapper .mx-column-list {
		padding: 10px 0;
	}

	.layout-1-wrapper .mx-column-list ul {
		display: block;
		margin-left: -10px;
		margin-right: -10px;
	}

	.layout-1-wrapper .mx-column-list ul li {
		float: left;
		width: 25%;
		padding: 10px;
	}

	.layout-1-wrapper .mx-column-list ul li a {
		display: block;
		padding: 20px 10px;
		height: 100px;
		background: #d7322d;
		background-image: url(../../assets/img/column-bg.png);
		border: 1px solid #ff5842;
		position: relative;
	}

	.layout-1-wrapper .mx-column-list ul li a::after,
	.layout-1-wrapper .mx-column-list ul li a::before {
		content: '';
		width: 100%;
		height: 100%;
		border: 6px dashed transparent;
		display: block;
		padding: 5px;
		position: absolute;
		left: 0;
		top: 0;
		-webkit-box-sizing: border-box;
		box-sizing: border-box;
		z-index: 101;
	}

	.layout-1-wrapper .mx-column-list ul li a:after {
		border: 6px dashed #94101d;
	}

	.layout-1-wrapper .mx-column-list ul li a:before {
		border: 5px solid #c71715;
		z-index: 102;
	}

	.layout-1-wrapper .mx-column-list ul li a i {
		float: left;
		width: 58px;
		height: 58px;
		line-height: 58px;
		text-align: center;
		color: #fea;
		margin: 0 5px 0 0;
		font-size: 40px;
		border-radius: 100px;
		background: none;
	}

	.layout-1-wrapper .mx-column-list ul li a span {
		display: block;
	}

	.layout-1-wrapper .mx-column-list ul li a span strong {
		display: block;
		height: 32px;
		padding: 8px 0 0;
		color: #fff;
		font-size: 16px;
		line-height: 24px;
		overflow: hidden;
	}

	.layout-1-wrapper .mx-column-list ul li a span em {
		display: block;
		line-height: 18px;
		font-size: 12px;
		height: 18px;
		color: #fff;
		overflow: hidden;
		opacity: 0.8;
	}

	/* 背景 */
	.layout-s-news-wrapper.special-themes .c2 .mx-sheet {
		background-image: url(../../assets/img/column-title-bg.png);
		background-repeat: no-repeat;
		background-position: right top;
	}

	/* 媒体查询开始 */
	/* 第一档 小于960 移动端  */
	@media only screen and (max-width:959px) {

		.c1,
		.c2,
		.c3 {
			float: none !important;

			width: 100% !important;

			padding: 0 !important;

		}

		/* 移动端-占用块 start */
		.mx-m {
			margin: 20px 0 0;
		}

		/* 移动端-占用块 end */
		.layout-1,
		.layout-12,
		.layout-123,
		.layout-ls-h {
			width: 100% !important;
			margin: 0 auto;
		}

		img {
			width: 100%;
		}

		/* 首页 3-3-3 新闻列表样式 start */
		.mx-sheet-ul {
			padding: 10px 15px;
		}

		.mx-sheet-ul li {
			padding: 5px 0 !important;
		}

		.mx-sheet-first-title a {
			font-size: 14px;
		}

		/* 首页 3-3-3 新闻列表样式 end */
		/* //swiper样式 */
		Swiper {
			width: 100%;
			height: 100%;
		}

		/* //样式穿透 swiper小圆点 */
		.swiper-container-horizontal>.swiper-pagination-bullets,
		.swiper-pagination-custom,
		.swiper-pagination-fraction {

			bottom: 104px;
		}

		.swiper-pagination-bullet {
			display: inline-block;
			width: 16px !important;
			height: 16px !important;
		}

		/* 首页-category样式 4排1-1样式 start*/

		/* 移动端-首页-category样式 4排1-1样式 end*/
		/* 移动端-首页-item-title start */
		

		/* 移动端-首页-item-title end */
		/* 热点新闻 hot 排版1-1 start */
		

		/* 热点新闻 hot 排版1-1 end */

		/* 都是2倍 */
		/* 轮播图样式 */
		.mx-sliding {
			display: block;
			background: #fff;
			position: relative;
		}

		.mx-sliding-text {
			display: block;
			padding: 0 20px;
			line-height: 90px;
			height: 90px;
			font-size: 32px;
			text-align: center;
			font-weight: bold;
		}

		.mx-sliding-text a {
			font-size: 32px;
		}

		.sliding-img-box {
			width: 100%;
		}

		.sliding-img-box img {
			width: 100%;
			height: auto;
		}

		/* 右边新闻sheet */
		.mx-sheet {
			display: block;
			background: #fff;
		}

		.mx-sheet ul {
			display: block;
			padding: 40px 60px;
			/* // background-color: red; */
		}

		.mx-sheet ul li {
			float: left;
			width: 100%;
			padding: 12px 0;
			position: relative;
			/* //相对定位 给em提供定位点 */
			font-size: 32px;



		}

		.mx-sheet ul li a {
			float: left;

			width: calc(100% - 65px);
			width: -moz-calc(100% - 65px);
			width: -webkit-calc(100% - 65px);
			height: 44px;
			line-height: 44px;
			font-size: 28px;
			/* //省略号 */
			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;

		}

		.mx-sheet ul li em {
			float: right;
			display: inline-block;
			width: 120px;
			text-align: right;
			font-size: 24px;
			color: #aaa;
			position: absolute;
			right: 0;
			top: 50%;
			margin-top: -16px;
		}

		.mx-sheet ul li a img {
			display: none;
		}

		.layout-s-news.r-4-6 .c2 .mx-sheet .mx-sheet-first a {
			font-weight: bold;
			font-size: 30px;
		}

		.mx-sheet-first em {
			display: none !important;
		}

		/* mx-column */
		.layout-1-wrapper .mx-column-list.mx-m {
			margin: 20px 0 0;
		}

		.layout-1-wrapper .mx-column-list {
			padding: 20px 0;
		}

		.layout-1-wrapper .mx-column-list ul {
			display: block;

			margin: 0 !important;
			padding: 0 20px;
		}

		.layout-1-wrapper .mx-column-list ul li {
			float: left;
			width: 50%;
			padding: 10px !important;
			/* box-sizing: border-box;
			-webkit-box-sizing: border-box; */
		}



		.layout-1-wrapper .mx-column-list ul li a {
			display: block;
			padding: 40px 20px;
			height: 160px;
			background: #d7322d;
			background-image: url(../../assets/img/column-bg.png);
			border: 2px solid #ff5842;
			position: relative;
			/* box-sizing: border-box; */
			/* text-align: center; */
		}

		.layout-1-wrapper .mx-column-list ul li a::after,
		.layout-1-wrapper .mx-column-list ul li a::before {
			content: '';
			width: 100%;
			height: 100%;
			border: 12px dashed transparent;
			display: block;
			padding: 10px;
			position: absolute;
			left: 0;
			top: 0;
			-webkit-box-sizing: border-box;
			box-sizing: border-box;
			z-index: 101;
		}

		.layout-1-wrapper .mx-column-list ul li a:after {
			border: 12px dashed #94101d;
		}

		.layout-1-wrapper .mx-column-list ul li a:before {
			border: 10px solid #c71715;
			z-index: 102;
		}

		.layout-1-wrapper .mx-column-list ul li a i {
			float: left;
			width: 76px;
			height: 76px;
			line-height: 76px;
			text-align: center;
			color: #fea;
			margin: 0 10px 0 0;
			font-size: 48px;
			border-radius: 200px;
			background: none;
		}

		.layout-1-wrapper .mx-column-list ul li a span {
			display: block;
			/* position: absolute; */
			position: relative;
			top:-25%;
			
		}

		.layout-1-wrapper .mx-column-list ul li a span strong {
			display: block;
			height: 64px;
			padding: 16px 0 0;
			color: #fff;
			font-size: 28px;
			line-height: 48px;
			overflow: hidden;
		}

		.layout-1-wrapper .mx-column-list ul li a span em {
			display: block;
			line-height: 36px;
			font-size: 24px;
			height: 36px;
			color: #fff;
			overflow: hidden;
			opacity: 0.8;
		}
		/*  */
		

	}


	/* 第二档 960-1240 ipad 端 */
	@media only screen and (min-width:960px) and (max-width:1239px) {

		.layout-1,
		.layout-12,
		.layout-123,
		.layout-ls-h,
		.layout-s-nav,
		.layout-m-nav,
		.layout-s-news,
		.layout-t-news,
		.layout-n-t {
			width: 960px;
			margin: 0 auto;

		}

		/* 轮播+新闻 */
		.layout-s-news .c1 {
			width: 400px;
			float: left !important;
		}

		.layout-s-news .c2 {
			width: 560px;
			float: right !important;
		}

		.cz-news ul {
			padding: 20px;
		}

		.mx-column-list ul li {
			float: left;
			width: 25% !important;
			padding: 10px !important;

			box-sizing: border-box;

		}

		.layout-123 .c1,
		.c2,
		.c3 {
			float: left;
		}

		/* //3个块  3-3-3 三等分 */
		.r-3-3-3 .c1,
		.r-3-3-3 .c2,
		.r-3-3-3 .c3 {
			width: 320px;
		}



		/* Latest+ hot */
		.layout-ls-h .c1 {
			width: 720px;
			float: left;
		}

		.layout-ls-h .c2 {
			width: 240px;
			float: left;
		}

		/* //swiper样式 */
		Swiper {
			width: 100%;
			height: 100%;
		}

		/* //样式穿透 swiper小圆点 */
		.swiper-container-horizontal>.swiper-pagination-bullets,
		.swiper-pagination-custom,
		.swiper-pagination-fraction {
			bottom: 52px;
		}
	}

	/* 第三档 1240以上 pc端 */
	@media only screen and (min-width:1240px) {


		.layout-1,
		.layout-12,
		.layout-123,
		.layout-ls-h,
		.layout-s-nav,
		.layout-m-nav,
		.layout-s-news,
		.layout-t-news,
		.layout-n-t {
			width: 1200px;
			margin: 0 auto;

		}


		/* //浮动 */
		.layout-123 .c1,
		.c2,
		.c3 {
			float: left;
		}

		/* //3个块  3-3-3 三等分 */
		.r-3-3-3 .c1,
		.r-3-3-3 .c2,
		.r-3-3-3 .c3 {
			width: 400px;
		}

		/* 轮播图+新闻列表区域4-6 开 */

		.layout-s-news .c1 {
			float: left;
		}

		.layout-s-news .c2 {
			float: right;
		}

		.layout-s-news .c1 {
			width: 500px;
		}

		.layout-s-news .c2 {
			width: 700px;
		}

		/* 最新发布+热点区域 */
		/* //第四个 最新新闻+hot区域 */
		.layout-ls-h .c1 {
			width: 900px;
			float: left;
		}

		.layout-ls-h .c2 {
			width: 300px;
			float: left;
		}

		/* //swiper样式 */
		Swiper {
			width: 100%;
			height: 100%;
		}

		.mx-column-list ul li {
			float: left;
			width: 25% !important;
			padding: 10px !important;
			box-sizing: border-box;

		}

		/* //样式穿透 swiper小圆点 */
		.swiper-container-horizontal>.swiper-pagination-bullets,
		.swiper-pagination-custom,
		.swiper-pagination-fraction {
			bottom: 52px;
		}
	}
</style>
<style scoped src="../../assets/css/media-query/index.css"></style>
<script>
	//导入Header头文件
	import Header from '../../components/common/Header.vue'
	//导入listingNewsLatest组件
	import listingNewsLatest from '../../components/common/listingNewsLatest.vue'
	//导入 热点新闻组件
	import hotTitlePicNews from '../../components/common/hotTitlePicNews.vue'
	//导入Footer脚文件
	import Footer from '../../components/common/Footer.vue'
	//导入jquery
	import $ from 'jquery'
	//导入swiper
	import Swiper from 'swiper'

	export default {
		data() {
			return {
				//获取页面窗口的宽度
				fullWidth: document.documentElement.clientWidth
				// el-layout12:'',
			}

		},
		//生命周期
		created: function() {
			//调用轮播方法
			//this._initSwiper();
			//窗口调整函数 并实现轮播图片居中
			window.addEventListener('resize', this.handleResize);
			this.getData();
			
		},
		beforeDestroy: function() {
			window.removeEventListener('resize', this.handleResize)
		},
		mounted: function() {
			//获取
			// this.el-layout12=document.querySelector('.layout-12-wrapper');
			// console.log(el-layout12);
			
			new Swiper('.swiper-container', {
				direction: 'horizontal',

				//播放速度

				loop: true,

				// 自动播放时间

				autoplay: true,

				// 播放的速度

				speed: 2000,

				// 如果需要分页器
				pagination: {
					el: '.swiper-pagination',
				},

				// 如果需要前进后退按钮
				// navigation: {
				// 	nextEl: '.swiper-button-next',
				// 	prevEl: '.swiper-button-prev',
				// },

				// 如果需要滚动条
				// scrollbar: {
				// 	el: '.swiper-scrollbar',
				// },
			})
		},
		methods: {
			async getData(){
				const {data:res}= await this.$http.get('http://122.51.102.105:8081/api/login?username=admin&password=admin');
				// console.log(res);
				let tokenStr=res.access_token;
				console.log(tokenStr);
				let {data:res1}= await this.$http.get('http://122.51.102.105:8081/api/home',{params:{access_token:tokenStr}});
				console.log(res1);
			},
			test() {
				$('.test').html(1222);
			},
			// 获取当前页面的尺寸。
			handleResize(event) {
				this.fullWidth = document.documentElement.clientWidth
				console.log(this.fullWidth)
				// document.querySelector('.layout-12-wrapper').style.width=this.fullWidth;
				//修改所有swiper-slide的尺寸
				document.querySelectorAll('.swiper-slide').style.width = this.fullWidth;
			},


		},
		components: {
			Header,
			listingNewsLatest,
			hotTitlePicNews,
			Footer
			
			
		}
	}
</script>
